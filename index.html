<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoÅŸmatik - GÃ¼nlÃ¼k BoÅŸ Yapma TakipÃ§isi</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#4ecdc4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="BoÅŸmatik">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    
    <!-- Splash Screen -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="language-selector">
                <button class="settings-btn" onclick="openSettings()" id="settingsBtn">âš™ï¸</button>
                <button class="theme-toggle" onclick="toggleTheme()" id="themeToggle">ğŸŒ™</button>
                <button class="lang-btn active" onclick="changeLanguage('tr')" id="lang-tr">ğŸ‡¹ğŸ‡· TR</button>
                <button class="lang-btn" onclick="changeLanguage('en')" id="lang-en">ğŸ‡ºğŸ‡¸ EN</button>
            </div>

            <!-- Login Section -->
            <div id="loginSection" class="login-section" style="display: block;">
                <div class="login-container">
                    <h2>ğŸ® BoÅŸmatik'e HoÅŸ Geldin!</h2>
                    <p>ArkadaÅŸlarÄ±nla yarÄ±ÅŸmak iÃ§in giriÅŸ yap</p>
                    <div class="login-buttons">
                        <button class="login-btn google-login" onclick="loginWithGoogle()">
                            <span>ğŸ”‘</span>
                            <span>Google ile GiriÅŸ</span>
                        </button>
                        <button class="login-btn anonymous-login" onclick="loginAnonymously()">
                            <span>ğŸ­</span>
                            <span>Anonim GiriÅŸ</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- User Section -->
            <div id="userSection" class="user-section" style="display: none;">
                <div id="userInfo" class="user-info"></div>
                
                <h1>ğŸ® BoÅŸmatik</h1>
                <p>GÃ¼nlÃ¼k boÅŸ yapma seviyeni keÅŸfet ve arkadaÅŸlarÄ±nla yarÄ±ÅŸ!</p>
                <div class="user-stats">
                    <div class="stat">
                        <span class="stat-label">Seviye</span>
                        <span class="stat-value" id="userLevel">1</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Toplam Puan</span>
                        <span class="stat-value" id="totalPoints">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">GÃ¼nlÃ¼k Seri</span>
                        <span class="stat-value" id="dailyStreak">0</span>
                    </div>
                </div>
                
                <div class="user-actions">
                    <button class="logout-btn" onclick="logout()" id="logoutBtn">ğŸšª Ã‡Ä±kÄ±ÅŸ</button>
                </div>
            </div>
        </header>

        <main>
            <div class="input-section">
                <h2>ğŸ“± BugÃ¼n Ne Kadar BoÅŸ YaptÄ±n?</h2>
                

                
                <div class="activity-group social-media">
                    <h3>ğŸ”¥ Sosyal Medya & EÄŸlence</h3>
                    <div class="input-row">
                        <label for="instagram">ğŸ“¸ Instagram:</label>
                        <input type="number" id="instagram" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('instagram', 0.5)">+30dk</button>
                    </div>
                    <div class="input-row">
                        <label for="tiktok">ğŸµ TikTok:</label>
                        <input type="number" id="tiktok" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('tiktok', 0.5)">+30dk</button>
                    </div>
                    <div class="input-row">
                        <label for="youtube">ï¿½ YouTube:</label>
                        <input type="number" id="youtube" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('youtube', 1)">+1sa</button>
                    </div>
                    <div class="input-row">
                        <label for="twitter">ğŸ¦ Twitter/X:</label>
                        <input type="number" id="twitter" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('twitter', 0.25)">+15dk</button>
                    </div>
                    <div class="input-row">
                        <label for="facebook">ğŸ‘¥ Facebook:</label>
                        <input type="number" id="facebook" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('facebook', 0.25)">+15dk</button>
                    </div>
                    <div class="input-row">
                        <label for="twitch">ğŸ® Twitch:</label>
                        <input type="number" id="twitch" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('twitch', 1)">+1sa</button>
                    </div>
                    <div class="input-row">
                        <label for="discord">ğŸ’¬ Discord:</label>
                        <input type="number" id="discord" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('discord', 0.5)">+30dk</button>
                    </div>
                    <div class="input-row">
                        <label for="snapchat">ğŸ‘» Snapchat:</label>
                        <input type="number" id="snapchat" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('snapchat', 0.25)">+15dk</button>
                    </div>
                    <div class="input-row">
                        <label for="linkedin">ğŸ’¼ LinkedIn:</label>
                        <input type="number" id="linkedin" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('linkedin', 0.25)">+15dk</button>
                    </div>
                    <div class="input-row">
                        <label for="reddit">ğŸ¤– Reddit:</label>
                        <input type="number" id="reddit" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('reddit', 0.5)">+30dk</button>
                    </div>
                </div>

                <div class="activity-group entertainment">
                    <h3>ğŸ¯ DiÄŸer BoÅŸ Aktiviteler</h3>
                    <div class="input-row">
                        <label for="netflix">ğŸ¿ Dizi/Film Ä°zleme:</label>
                        <input type="number" id="netflix" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('netflix', 1)">+1sa</button>
                    </div>
                    <div class="input-row">
                        <label for="games">ğŸ® Oyun:</label>
                        <input type="number" id="games" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('games', 1)">+1sa</button>
                    </div>
                    <div class="input-row">
                        <label for="spotify">ğŸµ MÃ¼zik Dinleme:</label>
                        <input type="number" id="spotify" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('spotify', 0.5)">+30dk</button>
                    </div>
                    <div class="input-row">
                        <label for="random">ğŸ¤·â€â™‚ï¸ Rastgele Gezinme:</label>
                        <input type="number" id="random" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('random', 0.5)">+30dk</button>
                    </div>
                    <div class="input-row">
                        <label for="shopping">ğŸ›’ Online AlÄ±ÅŸveriÅŸ:</label>
                        <input type="number" id="shopping" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('shopping', 0.5)">+30dk</button>
                    </div>
                    <div class="input-row">
                        <label for="whatsapp">ğŸ“± AnlÄ±k MesajlaÅŸma:</label>
                        <input type="number" id="whatsapp" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('whatsapp', 0.25)">+15dk</button>
                    </div>
                    <div class="input-row">
                        <label for="telegram">âœˆï¸ MesajlaÅŸma:</label>
                        <input type="number" id="telegram" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add" onclick="quickAdd('telegram', 0.25)">+15dk</button>
                    </div>
                </div>

                <div class="activity-group productive">
                    <h3>ğŸ’ª Ãœretken Aktiviteler (Puan AzaltÄ±r)</h3>
                    <div class="input-row">
                        <label for="reading">ğŸ“š Kitap Okuma:</label>
                        <input type="number" id="reading" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add productive" onclick="quickAdd('reading', 0.5)">+30dk</button>
                    </div>
                    <div class="input-row">
                        <label for="exercise">ğŸƒâ€â™‚ï¸ Spor:</label>
                        <input type="number" id="exercise" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add productive" onclick="quickAdd('exercise', 1)">+1sa</button>
                    </div>
                    <div class="input-row">
                        <label for="learning">ğŸ“ Ã–ÄŸrenme/Kurs:</label>
                        <input type="number" id="learning" min="0" max="24" value="0" step="0.25" placeholder="0" oninput="if(this.value>24)this.value=24;if(this.value<0)this.value=0;">
                        <span>saat</span>
                        <button class="quick-add productive" onclick="quickAdd('learning', 1)">+1sa</button>
                    </div>
                </div>

                <button id="calculate" class="calculate-btn inline-style">
                    <div class="btn-content">
                        <span class="btn-icon">ğŸ¯</span>
                        <span class="btn-text">BoÅŸ Yapma Seviyemi Hesapla!</span>
                        <div class="btn-ripple"></div>
                    </div>
                </button>

                <!-- Alternative: Sticky Bottom Bar -->
                <div class="bottom-action-bar" id="bottomBar" style="display: none;">
                    <div class="action-buttons">
                        <button class="action-btn secondary" onclick="clearAllInputs()">
                            <span>ğŸ—‘ï¸</span>
                            <span>Temizle</span>
                        </button>
                        <button class="action-btn primary" onclick="window.bosmatikApp.calculateBoÅŸYapma()">
                            <span>ğŸ¯</span>
                            <span>Hesapla</span>
                        </button>
                    </div>
                </div>

                <!-- Manual Reset Button -->
                <div class="manual-reset-container">
                    <button onclick="manualReset()" class="reset-btn-inline">ï¿½ Yeni GÃ¼n BaÅŸlat</button>
                </div>
            </div>

            <div class="result-section" id="results" style="display: none;">
                <div class="achievement-popup" id="achievementPopup" style="display: none;">
                    <div class="achievement-content">
                        <h3 id="achievementTitle">ğŸ† Yeni BaÅŸarÄ±!</h3>
                        <p id="achievementText"></p>
                        <button onclick="closeAchievement()" id="achievementOkBtn">Tamam</button>
                    </div>
                </div>

                <div class="result-card">
                    <div class="boÅŸ-level">
                        <span class="label">BugÃ¼nkÃ¼ BoÅŸ Yapma Seviyesi:</span>
                        <div class="level-display">
                            <span class="level-emoji" id="levelEmoji">ğŸ˜´</span>
                            <span class="level-name" id="levelName">BaÅŸlangÄ±Ã§</span>
                        </div>
                        <div class="points-earned">
                            <span class="points" id="pointsEarned">+0</span>
                            <span class="points-label">BoÅŸ Puan</span>
                        </div>
                    </div>
                </div>
                
                <div class="breakdown">
                    <h3>ğŸ“Š BoÅŸ Yapma Analizi</h3>
                    <div class="chart" id="timeChart"></div>
                </div>

                <div class="leaderboard">
                    <h3>ğŸ† GÃ¼nlÃ¼k SÄ±ralama</h3>
                    <div class="leaderboard-list" id="leaderboardList"></div>
                </div>

                <div class="achievements">
                    <h3>ğŸ–ï¸ BaÅŸarÄ±lar</h3>
                    <div class="achievement-grid" id="achievementGrid"></div>
                </div>

                <div class="tips">
                    <h3>ğŸ’¡ BoÅŸ Yapma Ä°puÃ§larÄ±</h3>
                    <div class="tip-card" id="dailyTip"></div>
                </div>
            </div>
        </main>
        
        <!-- Settings Modal -->
        <div class="settings-modal" id="settingsModal" style="display: none;">
            <div class="settings-content">
                <div class="settings-header">
                    <h3 id="settingsTitle">âš™ï¸ Ayarlar</h3>
                    <button class="close-btn" onclick="closeSettings()">âœ•</button>
                </div>
                
                <div class="settings-body">
                    <!-- Notification Settings -->
                    <div class="setting-group">
                        <h4 id="notificationSettingsTitle">ğŸ”” Bildirim AyarlarÄ±</h4>
                        
                        <div class="setting-item">
                            <label for="enableNotifications" id="enableNotificationsLabel">Bildirimleri EtkinleÅŸtir</label>
                            <input type="checkbox" id="enableNotifications" onchange="toggleNotifications()">
                        </div>
                        
                        <div class="setting-item" id="notificationTimeGroup" style="display: none;">
                            <label for="notificationTime" id="notificationTimeLabel">GÃ¼nlÃ¼k HatÄ±rlatma Saati</label>
                            <input type="time" id="notificationTime" value="20:00" onchange="updateNotificationTime()">
                        </div>
                        
                        <div class="setting-item">
                            <label for="achievementNotifications" id="achievementNotificationsLabel">BaÅŸarÄ± Bildirimleri</label>
                            <input type="checkbox" id="achievementNotifications" checked onchange="updateAchievementNotifications()">
                        </div>
                        
                        <div class="setting-item">
                            <label for="weeklyReport" id="weeklyReportLabel">HaftalÄ±k Rapor</label>
                            <input type="checkbox" id="weeklyReport" checked onchange="updateWeeklyReport()">
                        </div>
                    </div>
                    
                    <!-- App Settings -->
                    <div class="setting-group">
                        <h4 id="appSettingsTitle">ğŸ“± Uygulama AyarlarÄ±</h4>
                        
                        <div class="setting-item">
                            <label for="autoReset" id="autoResetLabel">Otomatik GÃ¼nlÃ¼k SÄ±fÄ±rlama</label>
                            <input type="checkbox" id="autoReset" checked onchange="updateAutoReset()">
                        </div>
                        
                        <div class="setting-item">
                            <label for="soundEffects" id="soundEffectsLabel">Ses Efektleri</label>
                            <input type="checkbox" id="soundEffects" checked onchange="updateSoundEffects()">
                        </div>
                    </div>
                    
                    <!-- Test Notification -->
                    <div class="setting-group">
                        <button class="test-notification-btn" onclick="testNotification()" id="testNotificationBtn">
                            ğŸ”” Test Bildirimi GÃ¶nder
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Edit Modal -->
        <div class="profile-modal" id="profileModal" style="display: none;">
            <div class="profile-content">
                <div class="profile-header">
                    <h3 id="profileTitle">ğŸ‘¤ Profil DÃ¼zenle</h3>
                    <button class="close-btn" onclick="closeProfile()">âœ•</button>
                </div>
                
                <div class="profile-body">
                    <!-- Current Profile -->
                    <div class="current-profile">
                        <div class="current-avatar" id="currentAvatar">ğŸ‘¤</div>
                        <div class="current-name" id="currentName">KullanÄ±cÄ± AdÄ±</div>
                    </div>
                    
                    <!-- Edit Form -->
                    <div class="profile-form">
                        <div class="form-group">
                            <label for="displayName" id="displayNameLabel">GÃ¶rÃ¼nen Ä°sim</label>
                            <input type="text" id="displayName" placeholder="KullanÄ±cÄ± adÄ±nÄ±zÄ± girin" maxlength="20">
                        </div>
                        
                        <div class="form-group">
                            <label id="avatarLabel">Avatar SeÃ§</label>
                            <div class="avatar-grid">
                                <div class="avatar-option" data-avatar="ğŸ‘¤" onclick="selectAvatar('ğŸ‘¤')">ğŸ‘¤</div>
                                <div class="avatar-option" data-avatar="ğŸ˜Š" onclick="selectAvatar('ğŸ˜Š')">ğŸ˜Š</div>
                                <div class="avatar-option" data-avatar="ğŸ˜" onclick="selectAvatar('ğŸ˜')">ğŸ˜</div>
                                <div class="avatar-option" data-avatar="ğŸ¤“" onclick="selectAvatar('ğŸ¤“')">ğŸ¤“</div>
                                <div class="avatar-option" data-avatar="ğŸ˜´" onclick="selectAvatar('ğŸ˜´')">ğŸ˜´</div>
                                <div class="avatar-option" data-avatar="ğŸ¤ª" onclick="selectAvatar('ğŸ¤ª')">ğŸ¤ª</div>
                                <div class="avatar-option" data-avatar="ğŸ¥³" onclick="selectAvatar('ğŸ¥³')">ğŸ¥³</div>
                                <div class="avatar-option" data-avatar="ğŸ¤–" onclick="selectAvatar('ğŸ¤–')">ğŸ¤–</div>
                                <div class="avatar-option" data-avatar="ğŸ‘»" onclick="selectAvatar('ğŸ‘»')">ğŸ‘»</div>
                                <div class="avatar-option" data-avatar="ğŸ¦„" onclick="selectAvatar('ğŸ¦„')">ğŸ¦„</div>
                                <div class="avatar-option" data-avatar="ğŸ±" onclick="selectAvatar('ğŸ±')">ğŸ±</div>
                                <div class="avatar-option" data-avatar="ğŸ¶" onclick="selectAvatar('ğŸ¶')">ğŸ¶</div>
                                <div class="avatar-option" data-avatar="ğŸ¦Š" onclick="selectAvatar('ğŸ¦Š')">ğŸ¦Š</div>
                                <div class="avatar-option" data-avatar="ğŸ¼" onclick="selectAvatar('ğŸ¼')">ğŸ¼</div>
                                <div class="avatar-option" data-avatar="ğŸ¦" onclick="selectAvatar('ğŸ¦')">ğŸ¦</div>
                                <div class="avatar-option" data-avatar="ğŸ¸" onclick="selectAvatar('ğŸ¸')">ğŸ¸</div>
                            </div>
                        </div>
                        
                        <div class="profile-actions">
                            <button class="profile-btn secondary" onclick="closeProfile()" id="cancelBtn">Ä°ptal</button>
                            <button class="profile-btn primary" onclick="saveProfile()" id="saveBtn">Kaydet</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="translations.js"></script>
    <script type="module" src="firebase-config.js"></script>
    <script src="script.js"></script>
    
    <!-- PWA Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>
